# Introducing ls-lint v2.3.0

[[toc]]

## Prologue

Around 4 years ago, something weird happened. Corona changed the world overnight.
Pretty intimidated and scared i packed my bag and left berlin for some weeks to move to my ex-girlfriend in kiel in north germany.
Together on 30 square meters, no toilet paper and a self constructed book desk for both of us the next days were very easy to predict.

At this time i worked in a small team with around 5 to 8 devs. Our monorepo was a nightmare - everyone did what they wanted.
Pretty bored, i decided to put an end to it: in around 3 days i created this thing called ls-lint - a small tool to lint your project filesystem.

Within hours this small tool received hundreds of github stars and reddit upvotes.
In no more then a few hours [Evan You](https://github.com/yyx990803) accepted my pull request to include ls-lint into Vuejs 2 - pretty sure i will never forget this feeling (thank you Evan).

Today ls-lint has nearly 5 million downloads and is used by some of the largest open source projects and companies on our planet.
With this i am happy to announce ls-lint `v2.3.0`.

## What the heck is ls-lint?

ls-lint is an extremely fast directory and filename linter which brings some structure to your project filesystem in a easy way

```yaml
ls:
  .js: snake_case
  .ts: snake_case | camelCase
  .d.ts: PascalCase
  .html: regex:[a-z0-9]+

ignore:
  - node_modules
```

## Whats new in `v2.3.0`

ls-lint `v2.3.0` comes with some of the most requested features from our community and is by far the biggest update yet.

### Allow specifying individual files and directories and error output format

With [#215](https://github.com/loeffel-io/ls-lint/pull/215) and [#215](https://github.com/loeffel-io/ls-lint/pull/216) it is now possible to run ls-lint on individual files and directories and return the error output in the json format.
This opens the world for tools like [lint-staged](https://github.com/lint-staged/lint-staged) and [husky](https://github.com/typicode/husky).
Aside from that this closes the gap for future ide plugins (feel free to contact me).

```bash
ls-lint --error-output-format json file-1.js file-2.ts
```

### Wildcard extension support

By [#217](https://github.com/loeffel-io/ls-lint/pull/217) it is now possible to use wildcard extensions for files.
With the support of this you are not longer forced to add any possible file extension to your `.ls-lint.yml` configuration file, for instance:

```yaml
ls:
  .go: snake_case
  .pb.go: snake_case
  .pb.validate.go: snake_case
  .json: snake_case
  .yaml: snake_case
  .tf: snake_case
  .yml: snake_case
  .bzl: snake_case
  .sh: snake_case
  .proto: snake_case
  .js: snake_case
  .service.js: snake_case
  .vue: PascalCase
  .ts: snake_case
  .html: snake_case
  .md: SCREAMING_SNAKE_CASE

  components/**/{auth,account}:
    .js: snake_case
    .vue: PascalCase
    .ts: snake_case
    .html: snake_case  
```

can be now minimized to this configuration file:

```yaml
ls:
  .*: snake_case
  .*.js: snake_case
  .*.*.go: snake_case # or .*.*.* or pb.*.go .. 
  .md: SCREAMING_SNAKE_CASE

  components/**/{auth,account}:
    .*: snake_case
    .vue: PascalCase
```

### Exists rule

[#218]() ships the `exists` rule. Now its possible to allow or disallow _`N`_ files for a given file extension or wildcard extension which brings a variety of configuration options.

Imagine you want to restrict all component subdirectories to only have a `.ts` and `.test.ts` file:

```yaml
ls:
  components/*:
    .dir: kebab-case
    .*: exists:0
    .ts: kebab-case | exists:1
    .test.ts: kebab-case | exists:1
```

`exists` also works for directories:

```yaml
ls:
  components/{auth,account}:
    .dir: exists
    .*: ...
```

and `exists` also works in combination with the regex rule.
Imagine you want to only have a `auth.component.ts`, `account.component.ts` and `category.component.ts` in your directory:

```yaml
ls:
  components:
    .*: exists:0
    .component.ts: regex:(auth|account|category) | exists:3
```

### Extending configurations

This feature already landed in `v2.2.0` but never got documented - That being said i'm trying to catch it up here.
The `--config` option now provides a way to specify a custom path for your ls-lint configuration yml or yaml file:

```bash
ls-lint --config .ls-lint.(yml|yaml)
```

But it gets better: it is now possible to specify _`N`_ `--config` options which can be merged together.

Imagine you want to have one global configuration for your company but still want to have a configuration in your repository which can override or extend your base company configuration:

```yaml
# company .ls-lint.yml base configuration

ls:
  .go: snake_case
  .js: kebab-case
  .ts: kebab-case

ignore:
  - node_modules
```

```yaml
# repository .ls-lint.yml configuration

ls:
  components:
    .vue: kebab-case
```

A good approach for sharing your company `.ls-lint.yml` base configuration would be a designated github repository or npm package.

With that being said its now possible to run ls-lint with a combination of both of your .ls-lint.yml configuration files:

```bash
ls-lint --config node_modules/@your-company/ls-lint-global-config/.ls-lint.yml --config .ls-lint.yml
```

## Final Words

Thank you for reading, thank you for all the contributions and feel free to clean up your project filesystem

Lucas LÃ¶ffel, 26.03.2024  
GitHub: [ls-lint](https://github.com/loeffel-io/ls-lint)